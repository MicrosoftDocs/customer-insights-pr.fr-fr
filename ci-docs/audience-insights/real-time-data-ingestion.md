---
title: Ingestion de données en temps réel et limitations
description: Informations générales sur les fonctionnalités en temps réel dans Audience Insights.
ms.date: 10/27/2020
ms.reviewer: nikeller
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
manager: shellyha
ms.openlocfilehash: b00a72e6a67e33c8e70ccc6139c5e62020f9d3e1
ms.sourcegitcommit: b50c754481d0af6d0cf4b550775d7b31d95846ef
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/06/2020
ms.locfileid: "4689172"
---
# <a name="real-time-data-ingestion-preview"></a><span data-ttu-id="ffeae-103">Ingestion de données en temps réel (préversion)</span><span class="sxs-lookup"><span data-stu-id="ffeae-103">Real-time data ingestion (preview)</span></span>

<span data-ttu-id="ffeae-104">La fonctionnalité en temps quasi réel vous permet de voir, en quelques secondes, les dernières interactions de vos clients avec vos produits ou services.</span><span class="sxs-lookup"><span data-stu-id="ffeae-104">The near real-time functionality lets you see, within seconds, the latest interactions that your customers have made with your products or services.</span></span>

<span data-ttu-id="ffeae-105">Les [actualisations programmées](system.md#schedule-tab) comprennent un grand nombre d'enregistrements et plusieurs opérations complexes.</span><span class="sxs-lookup"><span data-stu-id="ffeae-105">[Scheduled refreshes](system.md#schedule-tab) include large numbers of records and several complex operations.</span></span> <span data-ttu-id="ffeae-106">Tout d'abord, les données sont extraites de la source de données.</span><span class="sxs-lookup"><span data-stu-id="ffeae-106">First, data is pulled from the data source.</span></span> <span data-ttu-id="ffeae-107">Ensuite, les données sont unifiées, puis enrichies avec des informations supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="ffeae-107">Next, the data is unified, and then enriched with additional information.</span></span> <span data-ttu-id="ffeae-108">Chaque exécution de ce processus peut prendre quelques minutes à plusieurs heures.</span><span class="sxs-lookup"><span data-stu-id="ffeae-108">Every run of this process can take minutes to hours.</span></span>

<span data-ttu-id="ffeae-109">La fonctionnalité en temps réel fournit des données immédiatement pour la consommation, jusqu'à ce que l'actualisation programmée suivante extrait ces données de la source de données.</span><span class="sxs-lookup"><span data-stu-id="ffeae-109">The real-time functionality provides data immediately for consumption, until the subsequent scheduled refresh pulls this data from the data source.</span></span>

<span data-ttu-id="ffeae-110">Les mises à jour en temps réel ont un délai d'expiration au-delà duquel elles ne remplacent plus la valeur de la source de données :</span><span class="sxs-lookup"><span data-stu-id="ffeae-110">Real-time updates have an expiration time after which they no longer override the value from the data source:</span></span>

- <span data-ttu-id="ffeae-111">Les mises à jour du profil seront conservées pendant 4 heures</span><span class="sxs-lookup"><span data-stu-id="ffeae-111">Profile updates will be kept for 4 hours</span></span>
- <span data-ttu-id="ffeae-112">Les activités seront conservées pendant 30 jours</span><span class="sxs-lookup"><span data-stu-id="ffeae-112">Activities will be kept for 30 days</span></span>

<span data-ttu-id="ffeae-113">Ces valeurs sont des paramètres d'appel API que vous pouvez modifier.</span><span class="sxs-lookup"><span data-stu-id="ffeae-113">These values are API call parameters that you can change.</span></span> <span data-ttu-id="ffeae-114">Elles visent à garantir que vos données sources demeurent votre source de référence.</span><span class="sxs-lookup"><span data-stu-id="ffeae-114">They aim to ensure that your source data remains your source of truth.</span></span> <span data-ttu-id="ffeae-115">Si vous souhaitez que les mises à jour en temps réel soient conservées plus longtemps, vous devez les ajouter à une source de données afin qu'elles soient extraites lors de la prochaine actualisation programmée.</span><span class="sxs-lookup"><span data-stu-id="ffeae-115">If you want real-time updates to be included for longer, you need to add them to a data source so they get pulled during the next scheduled refresh.</span></span>

## <a name="real-time-update-of-the-unified-customer-profile-fields"></a><span data-ttu-id="ffeae-116">Mise à jour en temps réel des champs de profil client unifié</span><span class="sxs-lookup"><span data-stu-id="ffeae-116">Real-time update of the unified customer profile fields</span></span>

<span data-ttu-id="ffeae-117">Les profils mis à jour s'afficheront dans la vue de la carte client, ou dans toute autre visualisation, en quelques secondes.</span><span class="sxs-lookup"><span data-stu-id="ffeae-117">Updated profiles will show in the customer card view, or any other visualization, within a few seconds.</span></span>

<span data-ttu-id="ffeae-118">Étant donné que les opérations en temps réel ont lieu après l'unification des données, elles ne s'appliquent qu'aux profils client unifiés.</span><span class="sxs-lookup"><span data-stu-id="ffeae-118">Because real-time operations take place after the data unification has happened, they only apply to the unified customer profiles.</span></span> <span data-ttu-id="ffeae-119">Par conséquent, les modifications de profil en temps réel ne mettront pas à jour les mesures, l'appartenance du segment ou les enrichissements.</span><span class="sxs-lookup"><span data-stu-id="ffeae-119">Consequently, real-time profile changes will not update measures, segment membership, or enrichments.</span></span>

### <a name="limitations"></a><span data-ttu-id="ffeae-120">Limitations</span><span class="sxs-lookup"><span data-stu-id="ffeae-120">Limitations</span></span>

- <span data-ttu-id="ffeae-121">Vous pouvez mettre à jour les profils client, mais vous ne pouvez pas les créer ni les supprimer.</span><span class="sxs-lookup"><span data-stu-id="ffeae-121">Customer profiles can be updated, but not created or deleted.</span></span>
- <span data-ttu-id="ffeae-122">L'exportation des mises à jour en temps réel vers des systèmes externes, comme Power BI, n'est pas possible pour le moment.</span><span class="sxs-lookup"><span data-stu-id="ffeae-122">Exporting real-time updates to external systems, like Power BI, is not possible at the moment.</span></span>

## <a name="real-time-creation-of-activities"></a><span data-ttu-id="ffeae-123">Création d'activités en temps réel</span><span class="sxs-lookup"><span data-stu-id="ffeae-123">Real-time creation of activities</span></span>

<span data-ttu-id="ffeae-124">L'API en temps réel vous permet de publier une nouvelle activité de votre système source (un enregistrement source individuel) vers un profil client unifié.</span><span class="sxs-lookup"><span data-stu-id="ffeae-124">The real-time API lets you publish a new activity from your source system (an individual source record) to a unified customer profile.</span></span> <span data-ttu-id="ffeae-125">La nouvelle activité sera disponible en tant qu'activité unifiée dans la chronologie de ce profil client unifié en quelques secondes.</span><span class="sxs-lookup"><span data-stu-id="ffeae-125">The new activity will be available as a unified activity in that unified customer profile's timeline within seconds.</span></span> <span data-ttu-id="ffeae-126">Vous pouvez voir la chronologie dans la vue de la carte client ou dans toute autre intégration de chronologie que vous avez configurée.</span><span class="sxs-lookup"><span data-stu-id="ffeae-126">You can see the timeline in the customer card view or any other timeline integration you configured.</span></span>

> [!NOTE]
>
> - <span data-ttu-id="ffeae-127">Les activités sont immuables.</span><span class="sxs-lookup"><span data-stu-id="ffeae-127">Activities are immutable.</span></span> <span data-ttu-id="ffeae-128">Elles ne changent pas une fois créées.</span><span class="sxs-lookup"><span data-stu-id="ffeae-128">They don't change once created.</span></span>
> - <span data-ttu-id="ffeae-129">Pour le moment, les segments et les mesures ne sont pas mis à jour en fonction de la nouvelle activité.</span><span class="sxs-lookup"><span data-stu-id="ffeae-129">Currently, segments and measures won't update based on the new activity.</span></span>
> - <span data-ttu-id="ffeae-130">Les activités ajoutées uniquement via l'API en temps réel ne font pas partie des exportations et ne s'affichent pas dans PowerBI.</span><span class="sxs-lookup"><span data-stu-id="ffeae-130">Activities added only through the real-time API are not part of exports and won't show up in PowerBI.</span></span>

<span data-ttu-id="ffeae-131">Vous pouvez vous connecter à l'API en temps réel de deux façons :</span><span class="sxs-lookup"><span data-stu-id="ffeae-131">There are two ways to connect to the real-time API:</span></span>

- <span data-ttu-id="ffeae-132">[indirectement](#connect-via-the-dynamics-365-customer-insights-connector), en utilisant le connecteur [Dynamics 365 Customer Insights](https://docs.microsoft.com/connectors/customerinsights/)</span><span class="sxs-lookup"><span data-stu-id="ffeae-132">[indirectly](#connect-via-the-dynamics-365-customer-insights-connector), using the [Dynamics 365 Customer Insights connector](https://docs.microsoft.com/connectors/customerinsights/)</span></span>
- <span data-ttu-id="ffeae-133">[directement](#connect-directly-to-the-real-time-api), avec un code</span><span class="sxs-lookup"><span data-stu-id="ffeae-133">[directly](#connect-directly-to-the-real-time-api), with code</span></span>

<span data-ttu-id="ffeae-134">Les deux façons partagent les conditions préalables suivantes :</span><span class="sxs-lookup"><span data-stu-id="ffeae-134">Both ways share the following prerequisites:</span></span>

- <span data-ttu-id="ffeae-135">Un environnement Customer Insights</span><span class="sxs-lookup"><span data-stu-id="ffeae-135">A Customer Insights environment</span></span>
- <span data-ttu-id="ffeae-136">Profils client unifiés</span><span class="sxs-lookup"><span data-stu-id="ffeae-136">Unified customer profiles</span></span>
- <span data-ttu-id="ffeae-137">Activités configurées et exécutées</span><span class="sxs-lookup"><span data-stu-id="ffeae-137">Activities configured and run</span></span>
- <span data-ttu-id="ffeae-138">Autorisations Contributeur ou Administrateur pour authentifier votre compte</span><span class="sxs-lookup"><span data-stu-id="ffeae-138">Contributor or Administrator permissions to authenticate your account</span></span>

## <a name="connect-via-the-dynamics-365-customer-insights-connector"></a><span data-ttu-id="ffeae-139">Connexion via le connecteur Dynamics 365 Customer Insights</span><span class="sxs-lookup"><span data-stu-id="ffeae-139">Connect via the Dynamics 365 Customer Insights connector</span></span>

<span data-ttu-id="ffeae-140">L'API en temps réel peut ingérer des données à partir d'un connecteur dédié Power Platform, le [connecteur Dynamics 365 Customer Insights](https://docs.microsoft.com/connectors/customerinsights/), sans qu'il soit nécessaire d'écrire et de déployer du code.</span><span class="sxs-lookup"><span data-stu-id="ffeae-140">The real-time API can ingest data from a dedicated Power Platform connector, the [Dynamics 365 Customer Insights connector](https://docs.microsoft.com/connectors/customerinsights/), without the need to write and deploy any code.</span></span>    
<span data-ttu-id="ffeae-141">Le connecteur peut effectuer les mêmes actions en temps réel que l'API.</span><span class="sxs-lookup"><span data-stu-id="ffeae-141">The connector can do the same real-time actions as the API.</span></span> <span data-ttu-id="ffeae-142">Une licence valide est nécessaire pour les connecteurs premium.</span><span class="sxs-lookup"><span data-stu-id="ffeae-142">You need a valid license for premium connectors.</span></span> <span data-ttu-id="ffeae-143">Pour plus d'informations, voir [FAQ sur les licences Power Apps et Power Automate](https://docs.microsoft.com/power-platform/admin/powerapps-flow-licensing-faq).</span><span class="sxs-lookup"><span data-stu-id="ffeae-143">For more information, see [Power Apps and Power Automate licensing FAQs](https://docs.microsoft.com/power-platform/admin/powerapps-flow-licensing-faq).</span></span>

- <span data-ttu-id="ffeae-144">Power Platform [Power Apps et/ou Power Automate](https://docs.microsoft.com/connectors/)</span><span class="sxs-lookup"><span data-stu-id="ffeae-144">Power Platform [Power Apps and/or Power Automate](https://docs.microsoft.com/connectors/)</span></span>
- <span data-ttu-id="ffeae-145">Azure [Logic Apps](https://docs.microsoft.com/azure/connectors/apis-list)</span><span class="sxs-lookup"><span data-stu-id="ffeae-145">Azure [Logic Apps](https://docs.microsoft.com/azure/connectors/apis-list)</span></span>

<span data-ttu-id="ffeae-146">Pour plus d'informations sur la création de flux, consultez la [documentation de Power Automate](https://docs.microsoft.com/power-automate/).</span><span class="sxs-lookup"><span data-stu-id="ffeae-146">For details about creating flows, see the [Power Automate documentation](https://docs.microsoft.com/power-automate/).</span></span>

## <a name="connect-directly-to-the-real-time-api"></a><span data-ttu-id="ffeae-147">Connexion directe à l'API en temps réel</span><span class="sxs-lookup"><span data-stu-id="ffeae-147">Connect directly to the real-time API</span></span>

<span data-ttu-id="ffeae-148">Vous pouvez utiliser les fonctionnalités en temps réel en créant votre propre pipeline et en le connectant directement à l'API en temps réel.</span><span class="sxs-lookup"><span data-stu-id="ffeae-148">You can use the real-time capabilities by building your own pipeline and connecting directly to the real-time API.</span></span>    
<span data-ttu-id="ffeae-149">Vous pouvez publier une activité au format de votre système source ou au format UnifiedActivity.</span><span class="sxs-lookup"><span data-stu-id="ffeae-149">You can post an activity in the format of your source system or in the UnifiedActivity format.</span></span> <span data-ttu-id="ffeae-150">Procurez-vous le format en effectuant un appel d'API vers /api/instances/{instanceId}/manage/entities/UnifiedActivity.</span><span class="sxs-lookup"><span data-stu-id="ffeae-150">Get the format by making an API call to /api/instances/{instanceId}/manage/entities/UnifiedActivity.</span></span>

<span data-ttu-id="ffeae-151">Les détails de cette API, notamment les paramètres et les réponses, sont disponibles dans la section **EntityData** du [Guide de référence des API de Customer Insights](https://developer.ci.ai.dynamics.com/api-details#api=CustomerInsights).</span><span class="sxs-lookup"><span data-stu-id="ffeae-151">Details of this API, including parameters and responses, can be found in the **EntityData** section on the [Customer Insights APIs reference](https://developer.ci.ai.dynamics.com/api-details#api=CustomerInsights).</span></span> <span data-ttu-id="ffeae-152">Pour plus d'informations, consultez [Utiliser les API de Customer Insights](apis.md).</span><span class="sxs-lookup"><span data-stu-id="ffeae-152">For more information, see [Work with Customer Insights APIs](apis.md).</span></span>

## <a name="understand-your-real-time-usage-with-telemetry"></a><span data-ttu-id="ffeae-153">Comprendre votre utilisation en temps réel avec la télémétrie</span><span class="sxs-lookup"><span data-stu-id="ffeae-153">Understand your real-time usage with telemetry</span></span>

<span data-ttu-id="ffeae-154">Obtenez une vue d'ensemble du volume de demandes adressées à l'API en temps réel ainsi que des informations sur les problèmes que le système peut rencontrer.</span><span class="sxs-lookup"><span data-stu-id="ffeae-154">Get an overview of the volume of requests to the real-time API and information about issues the system may encounter.</span></span> <span data-ttu-id="ffeae-155">Vous pouvez [accéder à la télémétrie en temps réel](system.md#api-usage-tab) en allant dans **Admin** > **Système** > **Utilisation de l'API**.</span><span class="sxs-lookup"><span data-stu-id="ffeae-155">You can [access the real-time telemetry](system.md#api-usage-tab) by going to **Admin** > **System** > **API usage**.</span></span> <span data-ttu-id="ffeae-156">Dans la table **Opérations**, les lignes des opérations de l'API qui utilisent les méthodes en temps réel contiennent un bouton pour afficher l'utilisation de l'API en temps réel.</span><span class="sxs-lookup"><span data-stu-id="ffeae-156">In the **Operations** table, rows for API operations which use the real-time methods contain a button to view real-time API usage.</span></span> <span data-ttu-id="ffeae-157">Le bouton est visualisé avec un symbole binoculaire.</span><span class="sxs-lookup"><span data-stu-id="ffeae-157">The button is visualized with a binocular symbol.</span></span> <span data-ttu-id="ffeae-158">Sélectionnez le bouton pour ouvrir un volet latéral contenant les détails de l'utilisation de l'API en temps réel dans l'environnement actuel.</span><span class="sxs-lookup"><span data-stu-id="ffeae-158">Select the button to open a side pane containing usage details for the real-time API usage in the current environment.</span></span>

<span data-ttu-id="ffeae-159">Utilisez le sélecteur **Regrouper par** pour choisir la meilleure façon de présenter vos interactions en temps réel sur une chronologie allant des 24 dernières heures aux 30 derniers jours.</span><span class="sxs-lookup"><span data-stu-id="ffeae-159">Use the **Group by** selector to choose how to best present your real-time interactions on a timeline ranging from the last 24 hours to the last 30 days.</span></span> <span data-ttu-id="ffeae-160">Vous pouvez regrouper les données par méthode API, nom qualifié d'entité (entité ingérée), créé par (source de l'événement), résultat (succès ou échec) ou codes d'erreur.</span><span class="sxs-lookup"><span data-stu-id="ffeae-160">You can group the data by API method, entity qualified name (ingested entity), created by (source of the event), result (success or failure) or error codes.</span></span> <span data-ttu-id="ffeae-161">Les données sont disponibles sous forme de graphique historique et sous forme de tableau.</span><span class="sxs-lookup"><span data-stu-id="ffeae-161">The data is available as a history chart and as a table.</span></span>
